<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>SNSãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>

<style>
body{
  background:#b0b0b0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
}
.phone{
  width:375px;height:730px;margin:20px auto;
  background:#000;border-radius:28px;
  box-shadow:0 0 30px rgba(0,0,0,.4);
  overflow:hidden;position:relative;
}
.statusbar{
  height:28px;color:#fff;font-size:12px;
  padding:0 12px;display:flex;
  justify-content:space-between;align-items:center;
}
.home{
  position:absolute;top:28px;left:0;
  width:100%;height:calc(100% - 28px);
  background:linear-gradient(180deg,#5f9cff,#a1c4fd);
  display:grid;grid-template-columns:repeat(4,1fr);
  gap:18px;padding:30px 20px;
}
.app{text-align:center;color:#fff;font-size:12px;cursor:pointer;}
.app-icon{
  width:64px;height:64px;border-radius:16px;
  background:#000;font-size:30px;
  display:flex;align-items:center;justify-content:center;
  margin:0 auto 6px;
}

/* Instagramã‚¢ã‚¤ã‚³ãƒ³ */
.app-icon.instagram{
  background:linear-gradient(45deg,#f58529,#dd2a7b,#8134af);
  font-size:0;
}
.app-icon.instagram svg{
  width:34px;
  height:34px;
  fill:#fff;
}

.appscreen{
  position:absolute;top:28px;left:0;
  width:100%;height:calc(100% - 28px);
  background:#fff;display:flex;
  flex-direction:column;overflow:hidden;
}
.hidden{display:none}
.header{
  height:44px;display:flex;align-items:center;
  border-bottom:1px solid #e6ecf0;font-weight:700;
}
.back{width:44px;text-align:center;cursor:pointer;}
.title{flex:1;text-align:center;}
.progress{height:6px;background:#e6ecf0;}
.timeline{
  flex:1;overflow-y:auto;
  padding:0 12px;font-size:15px;
}

.story.me .story-ring{
  background:none;
  padding:0;
}
.story.me .story-inner{
  border:1px solid #ccc;
}


/* ===== Instagramé¢¨ ===== */

/* ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ */
.stories{
  display:flex;
  gap:14px;
  padding:10px 12px;
  overflow-x:auto;
  border-bottom:1px solid #e6ecf0;
}
.story{
  text-align:center;
  font-size:11px;
  color:#333;
  cursor:pointer;
}
.story-ring{
  width:56px;
  height:56px;
  border-radius:50%;
  background:linear-gradient(45deg,#f58529,#dd2a7b,#8134af);
  padding:3px;
  margin-bottom:4px;
}
.story-inner{
  width:100%;
  height:100%;
  border-radius:50%;
  background:#ddd;
}

/* ãƒ•ã‚£ãƒ¼ãƒ‰ */
.insta-feed{padding:12px;}
.insta-post{
  border:1px solid #ddd;
  border-radius:10px;
  margin-bottom:14px;
  overflow:hidden;
}
.insta-header{
  padding:8px;
  font-weight:700;
}
.insta-photo{
  height:180px;
  background:linear-gradient(135deg,#ddd,#bbb);
}
.insta-actions{
  padding:8px;
  font-size:14px;
  color:#555;
}

/* ===== ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å†ç”Ÿï¼ˆæ‚ªå£å‹•ç”»é¢¨ï¼‰ ===== */
.story-view{
  position:absolute;
  top:28px;left:0;
  width:100%;height:calc(100% - 28px);
  background:#000;
  color:#fff;
  display:flex;
  flex-direction:column;
  z-index:50;
}
.story-view.hidden{display:none;}
.story-top{
  padding:10px;
  display:flex;
  justify-content:space-between;
  font-size:14px;
}
.story-video{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#111,#333);
  position:relative;
}
.story-text{
  position:absolute;
  bottom:100px;
  left:20px;
  right:20px;
  font-size:22px;
  font-weight:700;
  line-height:1.4;
  text-shadow:0 0 8px #000;
}
.story-close{
  cursor:pointer;
}

/* ===== Xæ—¢å­˜ ===== */
.post,.reply{
  display:flex;gap:10px;
  padding:12px 0;border-bottom:1px solid #e6ecf0;
}
.reply{border-bottom:none;}
.icon{width:42px;height:42px;border-radius:50%;background:#1d9bf0;}
.reply .icon{width:32px;height:32px;background:#aab8c2;}
.body{flex:1;cursor:pointer;}
.name{font-weight:700;}
.id{color:#536471;font-size:13px;margin-left:4px;}
.text{margin:6px 0;white-space:pre-wrap;}
.meta{
  display:flex;flex-wrap:wrap;
  gap:12px;font-size:13px;
  color:#536471;margin-top:6px;
}
.replies-box{display:none;margin-top:6px;}

.compose{border-top:1px solid #e6ecf0;padding:8px;}
.compose textarea{
  width:100%;height:70px;resize:none;
  border:1px solid #ccc;border-radius:10px;padding:6px;
}
.compose select{
  width:100%;padding:6px;margin-bottom:6px;
  border-radius:8px;border:1px solid #ccc;
}
.compose button{
  width:100%;margin-top:6px;padding:10px;
  border:none;border-radius:999px;
  background:#1d9bf0;color:#fff;
}

.warning{
  background:#fff3cd;
  border:1px solid #ffecb5;
  color:#664d03;
  padding:10px;
  margin:10px 0;
  font-size:14px;
  border-radius:8px;
}
.warning strong{color:#d00000}


.story-bottom{
  height:64px;
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px;
  background:rgba(0,0,0,0.6);
}
.story-message{
  flex:none;        /* æ¨ªã„ã£ã±ã„ã‚’ã‚„ã‚ã‚‹ */
  width: 70%;
  height:44px;
  border-radius:999px;
  border:1px solid #555;
  background:#111;
  color:#fff;
  padding:0 14px;
  font-size:14px;
}
.story-like{
  width:44px;
  height:44px;
  border-radius:50%;
  border:1px solid #555;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  cursor:pointer;
}
.story-like.active{
  color:#ff4d6d;
  border-color:#ff4d6d;
}

/* ===== ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ä¸‹éƒ¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼šç”»é¢ä¸‹å›ºå®šï¼ˆä¸Šæ›¸ãï¼‰ ===== */
.story-bottom{
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 64px;

  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;

  background: rgba(0,0,0,0.75);
  box-sizing: border-box;
}


/* ===== ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ä¸‹éƒ¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼šã‚³ãƒ³ãƒ‘ã‚¯ãƒˆç‰ˆ ===== */
.story-bottom{
  height: 50px;          /* 64 â†’ 52 */
  padding: 6px 8px;
}

.story-message{
  height: 30px;          /* 44 â†’ 36 */
  font-size: 13px;       /* å°‘ã—å°ã•ã */
  padding: 0 12px;
}

.story-like{
  width: 28px;           /* 44 â†’ 36 */
  height: 28px;
  font-size: 12px;       /* 20 â†’ 18 */
}

/* ===== ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ä¸‹éƒ¨ï¼šä¸­å¤®å¯„ã›ï¼‹å¹…èª¿æ•´ ===== */
.story-bottom{
  justify-content: center;   /* ä¸­å¤®å¯„ã› */
}

.story-message{
  flex: none;                /* ä¼¸ã³ã‚‹ã®ã‚’æ­¢ã‚ã‚‹ */
  width: 200px;              /* â† å¥½ã¿ã§èª¿æ•´å¯ï¼ˆ180ã€œ220ãã‚‰ã„ï¼‰ */
}


/* ===== ã‚¹ãƒˆãƒ¼ãƒªãƒ¼è­¦å‘Šã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ ===== */
.story-warning{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: calc(100% - 28px);
  background: rgba(0,0,0,0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
}

.story-warning.hidden{
  display: none;
}

.story-warning-box{
  background: #fff;
  color: #000;
  width: 85%;
  max-width: 320px;
  border-radius: 14px;
  padding: 18px;
  font-size: 14px;
  line-height: 1.6;
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
  text-align: center;
}

.story-warning-box strong{
  color: #d00000;
}

/* ===== ã‚¹ãƒˆãƒ¼ãƒªãƒ¼è¿½åŠ ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆï¼‹ï¼‰ ===== */
.story-ring{
  position: relative;
}

.story-add{
  position: absolute;
  right: -2px;
  bottom: -2px;
  width:18px;
  height:18px;
  border-radius:50%;
  background:#0095f6;
  color:#fff;
  font-size:12px;
  font-weight:800;
  display:flex;
  align-items:center;
  justify-content:center;
  border:2px solid #fff;
  box-sizing:border-box;
}

/* ãƒ›ãƒ¼ãƒ å…¨ä½“ã¯ã‚¯ãƒªãƒƒã‚¯ç„¡åŠ¹ */
.home{
  pointer-events: none;
}

/* ã‚¢ã‚¤ã‚³ãƒ³ã ã‘ã‚¯ãƒªãƒƒã‚¯æœ‰åŠ¹ */
.app-icon{
  pointer-events: auto;
  cursor: pointer;
}



</style>
</head>

<body>

<div class="phone">
  <div class="statusbar"><span>20:15</span><span>ğŸ“¶ ğŸ”‹</span></div>

  <!-- ãƒ›ãƒ¼ãƒ  -->
  <div class="home" id="home">


    <div class="app" onclick="openX()">
      <div class="app-icon">N</div>N
    </div>

    <div class="app" onclick="openInstagram()">
      <div class="app-icon instagram">
        <svg viewBox="0 0 24 24">
          <path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7z"/>
        </svg>
      </div>
      Narastagram
    </div>
  </div>



  <!-- X -->
  <div class="appscreen hidden" id="xapp">
    <div class="header">
      <div class="back" onclick="backHome()">â†</div>
      <div class="title">N</div>
      <div class="back"></div>
    </div>
    <div class="progress"><span id="bar"></span></div>
    <div class="timeline" id="timeline"></div>
    <div class="compose">
      <select id="exampleSelect" onchange="applyExample()">
        <option value="">ç‚ä¸Šä¾‹ã‚’é¸æŠï¼ˆæ•™æç”¨ï¼‰</option>
      </select>
      <textarea id="textInput" placeholder="ã„ã¾ã©ã†ã—ã¦ã‚‹ï¼Ÿ"></textarea>
      <button onclick="post()">æŠ•ç¨¿</button>
    </div>
  </div>

  <!-- Instagram -->
  <div class="appscreen hidden" id="insta">
    <div class="header">
      <div class="back" onclick="backHome()">â†</div>
      <div class="title">Narastagram</div>
      <div class="back"></div>
    </div>

    <div class="stories">

<div class="story me" onclick="event.stopPropagation()">
  <div class="story-ring">
    <div class="story-inner"></div>
    <div class="story-add">ï¼‹</div>
  </div>
  ã‚ãªãŸ
</div>

      <div class="story" onclick="openStory()">











        <div class="story-ring"><div class="story-inner"></div></div>A
      </div>
      
    </div>

    <div class="insta-feed">
      <div class="insta-post">
        <div class="insta-header">ã‚ãªãŸ</div>
        <div class="insta-photo"></div>
        <div class="insta-actions">â¤ï¸ 12ã€€ğŸ’¬ 3</div>
      </div>
    </div>
  </div>

  <!-- ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å†ç”Ÿç”»é¢ -->
  <div class="story-view hidden" id="storyView">


<div class="story-warning hidden" id="storyWarning">
  <div class="story-warning-box">
    <strong>ãã®æ“ä½œã€æœ¬å½“ã«å¤§ä¸ˆå¤«ï¼Ÿ</strong><br><br>
    ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã¸ã®åå¿œã‚„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã€<br>
    æ›¸ã‹ã‚ŒãŸç›¸æ‰‹ã‚’å‚·ã¤ã‘ãŸã‚Šã€<br>
    ãã®è¡Œç‚ºã«åŠ æ‹…ã™ã¦ã—ã¾ã†<br>
    å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚<br><br>
    <em>åå¿œã›ãšã«ä¿¡é ¼ã§ãã‚‹å¤§äººã«ç›¸è«‡ã—ã¦ãã ã•ã„ã€‚</em>
  </div>
</div>






    <div class="story-top">
      <div>Aã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼</div>
      <div class="story-close" onclick="closeStory()">âœ•</div>
    </div>
    <div class="story-video">
      <div class="story-text">
        ã‚ã®äººãƒã‚¸ã§ç„¡ç†ã€‚ãã‚‰ã„ã€‚<br>
  
      </div>
<div class="story-bottom">
  <input class="story-message" type="text" placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡">
  <div class="story-like" onclick="toggleLike(this)">â™¡</div>
</div>

    </div>

  </div>

</div>

<script>
const home=document.getElementById("home");
const xapp=document.getElementById("xapp");
const insta=document.getElementById("insta");
const storyView=document.getElementById("storyView");
const timeline=document.getElementById("timeline");
const bar=document.getElementById("bar");
const textInput=document.getElementById("textInput");
const exampleSelect=document.getElementById("exampleSelect");

/* ç‚ä¸Šä¾‹ï¼ˆtypeä»˜ãï¼‰ */
const flameExamples=[
  {label:"â‘  å·®åˆ¥çš„ç™ºè¨€", type:"discrimination", text:"æ­£ç›´è¨€ã£ã¦ã€ç¨é‡‘ä½¿ã£ã¦ã¾ã§å¤–å›½äººã‚’æ”¯æ´ã™ã‚‹æ„å‘³ãŒåˆ†ã‹ã‚‰ãªã„ã€‚"},
  {label:"â‘¡ ãƒã‚¤ãƒˆãƒ†ãƒ­", type:"baito", text:"ãƒã‚¤ãƒˆä¸­ã ã‘ã©ã€åº—ã®å†·è”µåº«ã«å…¥ã£ã¦ã¿ãŸw"},
  {label:"â‘¢ å¼±è€…è”‘è¦–", type:"weak", text:"åŠªåŠ›ã—ãªã„äººã‚’åŠ©ã‘ã‚‹å¿…è¦ã£ã¦ã‚ã‚‹ï¼Ÿ"},
  {label:"â‘£ ç½å®³ä¸è¬¹æ…", type:"disaster", text:"ã¾ãŸç½å®³ï¼Ÿã‚‚ã†æ…£ã‚ŒãŸã€‚"},
  {label:"â‘¤ æ™’ã—æŠ•ç¨¿", type:"expose", text:"ã“ã®åº—å“¡ã²ã©ã„ã€‚åå‰ã‚‚åˆ†ã‹ã£ãŸã€‚"},
  {label:"â‘¥ è·æ¥­åè¦‹", type:"job", text:"â—‹â—‹è·ã£ã¦ã“ã®ç¨‹åº¦ã ã‚ˆã­ã€‚"}
];

/* â˜… è­¦å‘Šæ–‡ï¼ˆå®Œå…¨ä¿æŒï¼‰ */
const warningMessages={
  discrimination:`
    ãƒ»å·®åˆ¥çš„è¨€å‹•ã¨ã—ã¦å•é¡Œè¦–ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™<br>
    ãƒ»<b>åˆ‘æ³•230æ¡ï¼ˆåèª‰æ¯€æï¼‰</b>ã«æŠµè§¦ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™<br>
    ãƒ»<b>å¥ˆè‰¯çœŒäººæ¨©å°Šé‡ã®ç¤¾ä¼šã¥ãã‚Šæ¡ä¾‹</b>ã®è¶£æ—¨ã«åã™ã‚‹ã¨åˆ¤æ–­ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™<br>
    ãƒ»<b>äº¬éƒ½åºœäººæ¨©å°Šé‡ã®å…±ç”Ÿç¤¾ä¼šã¥ãã‚Šæ¡ä¾‹</b>ã®è¶£æ—¨ã«åã™ã‚‹è¡Œç‚ºã¨ã¿ãªã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
  `,
  baito:`
    ãƒ»æ¥­å‹™å¦¨å®³ã¨ã—ã¦ä¼æ¥­ãŒå¯¾å¿œã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™<br>
    ãƒ»<b>åˆ‘æ³•233æ¡ï¼ˆä¿¡ç”¨æ¯€æãƒ»æ¥­å‹™å¦¨å®³ï¼‰</b>ã«æŠµè§¦ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™<br>
    ãƒ»å¥‘ç´„é•åã‚„å°±æ¥­è¦å‰‡é•åã¨ã—ã¦å‡¦åˆ†ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™
  `,
  weak:`
    ãƒ»äººæ ¼å¦å®šã¨ã—ã¦ç‚ä¸ŠãŒé•·æœŸåŒ–ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™<br>
    ãƒ»<b>åˆ‘æ³•230æ¡ï¼ˆåèª‰æ¯€æï¼‰</b>ã«è©²å½“ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
  `,
  disaster:`
    ãƒ»è¢«ç½è€…æ„Ÿæƒ…ã‚’è‘—ã—ãå®³ã™ã‚‹è¡¨ç¾ã¨ã—ã¦æ‰¹åˆ¤ã‚’å—ã‘ã¾ã™<br>
    ãƒ»<b>å¥ˆè‰¯çœŒäººæ¨©å°Šé‡ã®ç¤¾ä¼šã¥ãã‚Šæ¡ä¾‹</b>ã®è¶£æ—¨ã«åã™ã‚‹è¡Œç‚ºã¨åˆ¤æ–­ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
  `,
  expose:`
    ãƒ»å€‹äººæƒ…å ±ã®å…¬é–‹ã¨ã—ã¦é‡å¤§ãªå•é¡Œã«ãªã‚Šã¾ã™<br>
    ãƒ»<b>åˆ‘æ³•230æ¡ï¼ˆåèª‰æ¯€æï¼‰</b>ã€<b>æ°‘æ³•709æ¡ï¼ˆä¸æ³•è¡Œç‚ºï¼‰</b>ã«æŠµè§¦ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™<br>
    ãƒ»<b>äº¬éƒ½åºœå€‹äººæƒ…å ±ä¿è­·æ¡ä¾‹</b>ã®è¶£æ—¨ã«åã™ã‚‹ã¨åˆ¤æ–­ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
  `,
  job:`
    ãƒ»è·æ¥­å·®åˆ¥ã¨ã—ã¦å•é¡Œè¦–ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™<br>
    ãƒ»<b>å¥ˆè‰¯çœŒäººæ¨©å°Šé‡ã®ç¤¾ä¼šã¥ãã‚Šæ¡ä¾‹</b>ã€<b>äº¬éƒ½åºœäººæ¨©å°Šé‡ã®å…±ç”Ÿç¤¾ä¼šã¥ãã‚Šæ¡ä¾‹</b>ã®è¶£æ—¨ã«åã™ã‚‹è¡Œç‚ºã¨ã¿ãªã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
  `,
  default:`
    ãƒ»å‰Šé™¤å¾Œã‚‚æ‹¡æ•£ãƒ»æ‰¹åˆ¤ãŒç¶šãå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™<br>
    ãƒ»å†…å®¹ã«ã‚ˆã£ã¦ã¯æ³•å¾‹ã‚„æ¡ä¾‹ã«æŠµè§¦ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
  `
};

flameExamples.forEach((ex,i)=>{
  const o=document.createElement("option");
  o.value=i;
  o.textContent=ex.label;
  exampleSelect.appendChild(o);
});

function applyExample(){
  if(exampleSelect.value==="")return;
  textInput.value=flameExamples[exampleSelect.value].text;
}

const normalComments=["å¤§ä¸ˆå¤«ï¼Ÿ","ä¸ç”¨æ„ã§ã¯","ç‡ƒãˆãã†","èª¤è§£ã•ã‚Œã‚‹"];
const harshComments=["ã‚¢ã‚¦ãƒˆ","é­šæ‹“æ¸ˆ","ç‰¹å®šç­","é€šå ±ã—ã¾ã—ãŸ"];
const rand=(a,b)=>Math.floor(Math.random()*(b-a+1))+a;

function openX(){
  home.classList.add("hidden");
  insta.classList.add("hidden");
  xapp.classList.remove("hidden");
}
function openInstagram(){
  home.classList.add("hidden");
  xapp.classList.add("hidden");
  insta.classList.remove("hidden");
}
function backHome(){
  xapp.classList.add("hidden");
  insta.classList.add("hidden");
  home.classList.remove("hidden");
}

function openStory(){
  storyView.classList.remove("hidden");
}
function closeStory(){
  storyView.classList.add("hidden");
}

function post(){
  const t=textInput.value.trim();
  if(!t)return;

  const type=exampleSelect.value!=="" ? flameExamples[exampleSelect.value].type : "default";
  const state={severity:0,views:0,replies:0,type};

  const postDiv=document.createElement("div");
  postDiv.className="post";
  postDiv.innerHTML=`
    <div class="icon"></div>
    <div class="body">
      <div class="name">ã‚ãªãŸ<span class="id">@user</span></div>
      <div class="text">${t}</div>
      <div class="meta">
        <span class="views">ğŸ‘ 0</span>
        <span class="replies">ğŸ’¬ 0</span>
        <span class="reposts">ğŸ” 0</span>
        <span class="likes">â¤ï¸ 0</span>
        <span class="delete" style="color:#f4212e;cursor:pointer;">ğŸ—‘ å‰Šé™¤</span>
      </div>
      <div class="replies-box"></div>
    </div>
  `;
  timeline.prepend(postDiv);

  const repliesBox=postDiv.querySelector(".replies-box");
  postDiv.querySelector(".body").onclick=()=>{
    repliesBox.style.display=repliesBox.style.display==="block"?"none":"block";
  };

  const meta={
    views:postDiv.querySelector(".views"),
    replies:postDiv.querySelector(".replies"),
    reposts:postDiv.querySelector(".reposts"),
    likes:postDiv.querySelector(".likes")
  };

  const timer=setInterval(()=>{
    const pool=state.severity<40?normalComments:harshComments;
    repliesBox.insertAdjacentHTML("beforeend",`
      <div class="reply">
        <div class="icon"></div>
        <div class="body">
          <div class="name">åŒ¿å<span class="id">@xxxx</span></div>
          <div class="text">${pool[rand(0,pool.length-1)]}</div>
        </div>
      </div>
    `);

    state.replies++;
    state.severity=Math.min(100,state.severity+2);
    const inc=state.severity<30?rand(5,20):state.severity<60?rand(50,200):rand(500,3000);
    state.views+=inc;

    meta.views.textContent="ğŸ‘ "+state.views.toLocaleString();
    meta.replies.textContent="ğŸ’¬ "+state.replies;
    meta.reposts.textContent="ğŸ” "+Math.floor(state.views/80);
    meta.likes.textContent="â¤ï¸ "+Math.floor(state.views/25);
  },600);

  postDiv.querySelector(".delete").onclick=(e)=>{
    e.stopPropagation();
    clearInterval(timer);
    postDiv.remove();

    const warn=document.createElement("div");
    warn.className="warning";
    warn.innerHTML=`
      <strong>æŠ•ç¨¿ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸ</strong><br><br>
      ã€ã“ã®æŠ•ç¨¿å†…å®¹ã§èµ·ã“ã‚Šã†ã‚‹ã“ã¨ã€‘<br>
      ${warningMessages[state.type]||warningMessages.default}<br><br>
      <em>ã€Œæ¶ˆã—ãŸï¼ãªã‹ã£ãŸã“ã¨ã€ã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚</em>
      <em>ã¾ãŸã€åŒ¿åã§ã‚ã£ã¦ã‚‚<b>ç™ºä¿¡è€…æƒ…å ±é–‹ç¤ºè«‹æ±‚</b>ã«ã‚ˆã‚ŠæŠ•ç¨¿è€…ãŒç‰¹å®šã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</em>
    `;
    timeline.prepend(warn);
  };

  textInput.value="";
  exampleSelect.value="";
}

function toggleLike(el){
  showStoryWarning();
}


const storyWarning = document.getElementById("storyWarning");

/* è­¦å‘Šè¡¨ç¤º */
function showStoryWarning(){
  storyWarning.classList.remove("hidden");
}

/* è­¦å‘Šã‚’ã‚¿ãƒƒãƒ—ã§é–‰ã˜ã‚‹ */
storyWarning.addEventListener("click", ()=>{
  storyWarning.classList.add("hidden");
});

/* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ¬„ã‚¯ãƒªãƒƒã‚¯ã§è­¦å‘Š */
document.querySelector(".story-message")
  .addEventListener("focus", showStoryWarning);

/* â™¡ã‚¯ãƒªãƒƒã‚¯ã§è­¦å‘Šï¼ˆæ—¢å­˜å‡¦ç†ã¯ä¿æŒï¼‰ */
const originalToggleLike = toggleLike;
toggleLike = function(el){
  originalToggleLike(el);
  showStoryWarning();
};




</script>

</body>
</html>
